version: "3"

services:
  consumer:
    build: ./consumer
    container_name: kafka_consumer-basic
    depends_on:
      - producer
    ports: ['5000:5000']
    # volumes: ['./:/usr/app']
    command: ["tail", "-f", "/dev/null"]
    # command: ["/bin/bash", "./start_script.sh"]


  producer:
    build: ./producer
    container_name: kafka_producer-basic
    # ports: ['8554:8554', '1935:1935', '8888:8888']
    # volumes: ['./producer:/usr/app']
    command: ["tail", "-f", "/dev/null"]

networks:
  default:
    # kafka-network to enable communication between the Kafka cluster and the apps:
    name: kafka-network  
    external: true